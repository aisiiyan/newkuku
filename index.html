<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Prompt Generator</title>
<style>
  body { font-family: sans-serif; background: #f5f5f5; display: flex; justify-content: center; align-items: center; height: 100vh; }
  .container { background: white; padding: 20px; border-radius: 10px; max-width: 600px; width: 100%; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
  input { width: calc(100% - 110px); padding: 8px; border: 1px solid #ccc; border-radius: 5px; }
  button { padding: 8px 12px; border: none; border-radius: 5px; cursor: pointer; }
  .btn-green { background: #4CAF50; color: white; }
  .btn-blue { background: #2196F3; color: white; margin-top: 10px; }
  .preview { background: #f9f9f9; padding: 10px; border-radius: 5px; margin-top: 10px; white-space: pre-line; font-size: 14px; border: 1px solid #ddd; }
</style>
</head>
<body>

<div class="container">
  <h2>Prompt Generator</h2>
  <div style="display: flex; gap: 10px;">
    <input type="text" id="judulInput" placeholder="Masukkan Judul lalu tekan Enter">
    <button class="btn-green" onclick="pasteAndGenerate()">Paste & Generate</button>
  </div>
  
  <div id="preview" style="display:none;">
    <h3>Preview:</h3>
    <div class="preview" id="previewText"></div>
    <button class="btn-blue" onclick="copyPrompt()">Copy Prompt</button>
  </div>
</div>

<script>
const templatePrompt = `Judul: [Tulis judul di sini]

Perintah:

1. Salin semua teks keyword tanpa typo dan pastikan tidak ada yang tertinggal.
2. Hapus semua keyword yang terdeteksi duplikat.
3. Tambahkan maksimal 3 kata tunggal dari judul jika belum ada di daftar keyword awal.
4. Hapus keyword yang tidak relevan dengan judul/gambar. Keyword yang masih ada hubungan konteks tetap dipertahankan.
5. Urutkan keyword sesuai kategori prioritas berikut (paling relevan di awal, paling umum di akhir):

Produk Utama → objek inti gambar.
Aplikasi Produk → kegunaan atau tujuan gambar.
Mood / Style → suasana atau gaya visual.
Teknik / Media → metode pembuatan atau format file.
Kata Pendukung Umum → kata yang bersifat luas untuk jangkauan trafik.

6. Prioritaskan 15 keyword pertama untuk:
Keyword dengan relevansi paling tinggi.
Keyword dengan volume pencarian tinggi di stok foto.
Minimal 3 kata penting dari judul ada di urutan 1–10.

7. Batasi hasil akhir menjadi maksimal 49 keyword. Prioritaskan kategori teratas jika jumlah melebihi batas.

8. Setelah selesai, tampilkan:
Proses detail: jelaskan apa yang dihapus, ditambahkan, dan perubahan urutan.
Daftar akhir keyword (digabung jadi satu baris, dipisahkan dengan koma).
Sebutkan jumlah total keyword.
Tandai keyword urutan 1–15 sebagai Essential.`

const judulInput = document.getElementById('judulInput');
const preview = document.getElementById('preview');
const previewText = document.getElementById('previewText');

function generatePrompt(judul) {
  const hasil = templatePrompt.replace("[Tulis judul di sini]", judul);
  previewText.textContent = hasil;
  preview.style.display = 'block';
}

judulInput.addEventListener('keydown', function(e) {
  if (e.key === 'Enter') {
    e.preventDefault();
    const judul = judulInput.value.trim();
    if (!judul) return;
    generatePrompt(judul);
  }
});

async function pasteAndGenerate() {
  try {
    const text = await navigator.clipboard.readText();
    if (!text) {
      alert("Clipboard kosong!");
      return;
    }
    judulInput.value = text.trim();
    generatePrompt(text.trim());
  } catch (err) {
    alert("Gagal membaca clipboard. Pastikan memberi izin.");
  }
}

function copyPrompt() {
  navigator.clipboard.writeText(previewText.textContent)
    .then(() => alert("Prompt berhasil disalin!"));
}
</script>

</body>
</html>
